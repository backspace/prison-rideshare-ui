{{#power-calendar center=month daysComponent='calendar-days' as |calendar|}}
  {{#paper-card class='person-card' as |card|}}
    {{#card.content}}
      <header>
        <div class='person-session'>You are logged in as {{person.email}}</div>
        {{#if showPerson}}
          {{#paper-button class='submit' primary=person.hasDirtyAttributes onClick='savePerson'}}Save details{{/paper-button}}
        {{else}}
          {{paper-button class='toggle' label='Edit details' onClick=(action (mut showPerson) (not showPerson))}}
        {{/if}}
      </header>
      {{#if showPerson}}
        {{#paper-form onSubmit=save as |form|}}
          {{#paper-radio-group
            groupValue=(readonly person.medium)
            onChange=(action (mut person.medium)) as |group|}}
            <div class='layout-row layout-xs-column'>
              {{form.input class='name' label='Name' value=person.name onChange=(action (mut person.name)) errors=person.validationErrors.name isTouched=person.validationErrors.name.length}}
            </div>
            <div class='layout-row layout-xs-column'>
              {{#paper-switch value=person.active onChange=(action (mut person.active) (not person.active))}}Active{{/paper-switch}}
            </div>
            <div class='layout layout-sm-column text-radio email'>
              {{form.input type='email' label='Email' disabled=true value=person.email onChange=(action (mut person.email)) errors=person.validationErrors.email isTouched=person.validationErrors.email.length}}
              {{#group.radio value='email'}}{{paper-icon 'favorite'}}{{/group.radio}}
            </div>
            <div class='layout layout-sm-column text-radio mobile'>
              {{form.input type='mobile' label='Mobile' value=person.mobile onChange=(action (mut person.mobile)) errors=person.validationErrors.mobile isTouched=person.validationErrors.mobile.length}}
              {{#group.radio value='mobile'}}{{paper-icon 'favorite'}}{{/group.radio}}
            </div>
            <div class='layout layout-sm-column text-radio landline'>
              {{form.input type='mobile' label='Landline' value=person.landline onChange=(action (mut person.landline)) errors=person.validationErrors.landline isTouched=person.validationErrors.landline.length}}
              {{#group.radio value='landline'}}{{paper-icon 'favorite'}}{{/group.radio}}
            </div>
          {{/paper-radio-group}}
        {{/paper-form}}
      {{/if}}
    {{/card.content}}
  {{/paper-card}}

  {{calendar.nav}}

  {{#calendar.days showDaysAround=false as |day|}}
    {{calendar-day day=day slots=slots person=person}}
  {{/calendar.days}}
{{/power-calendar}}
